{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAE5C,kEAAkE;AAClE,+CAA+C;AAC/C,IAAI,uBAAuB,GAAG,CAAC,CAAC;AAEhC,MAAM,CAAC,OAAO,OAAO,SAAU,SAAQ,KAAK,CAAC,aAAa;IAIxD,iBAAiB;QACf,uBAAuB,GAAG,uBAAuB,GAAG,CAAC,CAAC;QACtD,IAAI,uBAAuB,KAAK,CAAC,EAAE;YACjC,aAAa,CAAC,QAAQ,EAAE,CAAC;SAC1B;IACH,CAAC;IAED,oBAAoB;QAClB,uBAAuB,GAAG,uBAAuB,GAAG,CAAC,CAAC;QACtD,IAAI,uBAAuB,IAAI,CAAC,EAAE;YAChC,aAAa,CAAC,UAAU,EAAE,CAAC;SAC5B;IACH,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAC;IACd,CAAC;;AAnBM,kBAAQ,GAAG,QAAQ,CAAC;AACpB,oBAAU,GAAG,UAAU,CAAC;AAqBjC,MAAM,UAAU,QAAQ;IACtB,aAAa,CAAC,QAAQ,EAAE,CAAC;AAC3B,CAAC;AAED,MAAM,UAAU,UAAU;IACxB,aAAa,CAAC,UAAU,EAAE,CAAC;AAC7B,CAAC","sourcesContent":["import React from 'react';\nimport ExpoKeepAwake from './ExpoKeepAwake';\n\n// NOTE(brentvatne): in tests this value won't be reset because we\n// can render a component and never unmount it.\nlet __keepAwakeMountedCount = 0;\n\nexport default class KeepAwake extends React.PureComponent {\n  static activate = activate;\n  static deactivate = deactivate;\n\n  componentDidMount() {\n    __keepAwakeMountedCount = __keepAwakeMountedCount + 1;\n    if (__keepAwakeMountedCount === 1) {\n      ExpoKeepAwake.activate();\n    }\n  }\n\n  componentWillUnmount() {\n    __keepAwakeMountedCount = __keepAwakeMountedCount - 1;\n    if (__keepAwakeMountedCount == 0) {\n      ExpoKeepAwake.deactivate();\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport function activate() {\n  ExpoKeepAwake.activate();\n}\n\nexport function deactivate() {\n  ExpoKeepAwake.deactivate();\n}\n"]}